<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Module: Rex::Ui::Interactive
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!Rex/Ui/Interactive.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Rex.html" title="Rex (module)">Rex</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Ui.html" title="Rex::Ui (module)">Ui</a></span></span>
     &raquo; 
    <span class="title">Interactive</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Rex::Ui::Interactive
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
      <dt class="r1">Includes:</dt>
      <dd class="r1"><span class='object_link'><a href="Subscriber.html" title="Rex::Ui::Subscriber (module)">Subscriber</a></span></dd>
      
    
  
  
    <dt class="r2">Included in:</dt>
    <dd class="r2"><span class='object_link'><a href="../../Msf/Session/Interactive.html" title="Msf::Session::Interactive (module)">Msf::Session::Interactive</a></span>, <span class='object_link'><a href="../Post/Meterpreter/Ui/Console/InteractiveChannel.html" title="Rex::Post::Meterpreter::Ui::Console::InteractiveChannel (module)">Post::Meterpreter::Ui::Console::InteractiveChannel</a></span></dd>
    
  
  
    <dt class="r1 last">Defined in:</dt>
    <dd class="r1 last">lib/rex/ui/interactive.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class implements the stubs that are needed to provide an interactive
user interface that is backed against something arbitrary.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#completed-instance_method" title="#completed (instance method)">- (Object) <strong>completed</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not the session has completed interaction.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#interacting-instance_method" title="#interacting (instance method)">- (Object) <strong>interacting</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Whether or not the session is currently being interacted with.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_command_proc-instance_method" title="#on_command_proc (instance method)">- (Object) <strong>on_command_proc</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute on_command_proc.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_print_proc-instance_method" title="#on_print_proc (instance method)">- (Object) <strong>on_print_proc</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute on_print_proc.</p>
</div></span>
  
</li>

    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#orig_suspend-instance_method" title="#orig_suspend (instance method)">- (Object) <strong>orig_suspend</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The original suspend proc.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Subscriber/Input.html" title="Rex::Ui::Subscriber::Input (module)">Subscriber::Input</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subscriber/Input.html#user_input-instance_method" title="Rex::Ui::Subscriber::Input#user_input (method)">#user_input</a></span></p>

  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="Subscriber/Output.html" title="Rex::Ui::Subscriber::Output (module)">Subscriber::Output</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subscriber/Output.html#user_output-instance_method" title="Rex::Ui::Subscriber::Output#user_output (method)">#user_output</a></span></p>


  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_interact-instance_method" title="#_interact (instance method)">- (Object) <strong>_interact</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stub method that is meant to handler interaction.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_interact_complete-instance_method" title="#_interact_complete (instance method)">- (Object) <strong>_interact_complete</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when interaction has completed and one of the sides has closed.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_interrupt-instance_method" title="#_interrupt (instance method)">- (Object) <strong>_interrupt</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when an interrupt is sent.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_local_fd-instance_method" title="#_local_fd (instance method)">- (Object) <strong>_local_fd</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The local file descriptor handle.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_remote_fd-instance_method" title="#_remote_fd (instance method)">- (Object) <strong>_remote_fd</strong>(stream) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>The remote file descriptor handle.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_stream_read_local_write_remote-instance_method" title="#_stream_read_local_write_remote (instance method)">- (Object) <strong>_stream_read_local_write_remote</strong>(stream) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read from local and write to remote.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_stream_read_remote_write_local-instance_method" title="#_stream_read_remote_write_local (instance method)">- (Object) <strong>_stream_read_remote_write_local</strong>(stream) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Read from remote and write to local.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#_suspend-instance_method" title="#_suspend (instance method)">- (Object) <strong>_suspend</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Called when a suspend is sent.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#detach-instance_method" title="#detach (instance method)">- (Object) <strong>detach</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Stops the current interaction.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#handle_suspend-instance_method" title="#handle_suspend (instance method)">- (Object) <strong>handle_suspend</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Installs a signal handler to monitor suspend signal notifications.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#interact-instance_method" title="#interact (instance method)">- (Object) <strong>interact</strong>(user_input, user_output) </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Starts interacting with the session at the most raw level, simply
forwarding input from user_input to rstream and forwarding input from
rstream to user_output.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#interact_ring-instance_method" title="#interact_ring (instance method)">- (Object) <strong>interact_ring</strong>(ring) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Interacts between a local stream and a remote ring buffer.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#interact_stream-instance_method" title="#interact_stream (instance method)">- (Object) <strong>interact_stream</strong>(stream) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Interacts with two streaming connections, reading data from one and writing
it to the other.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#prompt-instance_method" title="#prompt (instance method)">- (Object) <strong>prompt</strong>(query) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Prompt the user for input if possible.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#prompt_yesno-instance_method" title="#prompt_yesno (instance method)">- (Object) <strong>prompt_yesno</strong>(query) </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Check the return value of a yes/no prompt.</p>
</div></span>
  
</li>

      
        <li class="protected ">
  <span class="summary_signature">
    
      <a href="#restore_suspend-instance_method" title="#restore_suspend (instance method)">- (Object) <strong>restore_suspend</strong> </a>
    

    
  </span>
  
  
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Restores the previously installed signal handler for suspend notifications.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Subscriber.html" title="Rex::Ui::Subscriber (module)">Subscriber</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subscriber.html#copy_ui-instance_method" title="Rex::Ui::Subscriber#copy_ui (method)">#copy_ui</a></span>, <span class='object_link'><a href="Subscriber.html#init_ui-instance_method" title="Rex::Ui::Subscriber#init_ui (method)">#init_ui</a></span>, <span class='object_link'><a href="Subscriber.html#reset_ui-instance_method" title="Rex::Ui::Subscriber#reset_ui (method)">#reset_ui</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Subscriber/Input.html" title="Rex::Ui::Subscriber::Input (module)">Subscriber::Input</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subscriber/Input.html#gets-instance_method" title="Rex::Ui::Subscriber::Input#gets (method)">#gets</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Subscriber/Output.html" title="Rex::Ui::Subscriber::Output (module)">Subscriber::Output</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Subscriber/Output.html#flush-instance_method" title="Rex::Ui::Subscriber::Output#flush (method)">#flush</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print-instance_method" title="Rex::Ui::Subscriber::Output#print (method)">#print</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_blank_line-instance_method" title="Rex::Ui::Subscriber::Output#print_blank_line (method)">#print_blank_line</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_debug-instance_method" title="Rex::Ui::Subscriber::Output#print_debug (method)">#print_debug</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_error-instance_method" title="Rex::Ui::Subscriber::Output#print_error (method)">#print_error</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_good-instance_method" title="Rex::Ui::Subscriber::Output#print_good (method)">#print_good</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_line-instance_method" title="Rex::Ui::Subscriber::Output#print_line (method)">#print_line</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_status-instance_method" title="Rex::Ui::Subscriber::Output#print_status (method)">#print_status</a></span>, <span class='object_link'><a href="Subscriber/Output.html#print_warning-instance_method" title="Rex::Ui::Subscriber::Output#print_warning (method)">#print_warning</a></span></p>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="completed=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="completed-instance_method">
  
    - (<tt>Object</tt>) <strong>completed</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not the session has completed interaction</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_completed'>completed</span>
  <span class='ivar'>@completed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="interacting=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="interacting-instance_method">
  
    - (<tt>Object</tt>) <strong>interacting</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Whether or not the session is currently being interacted with</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 105</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interacting'>interacting</span>
  <span class='ivar'>@interacting</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="on_command_proc=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="on_command_proc-instance_method">
  
    - (<tt>Object</tt>) <strong>on_command_proc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute on_command_proc</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 113</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_command_proc'>on_command_proc</span>
  <span class='ivar'>@on_command_proc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="on_print_proc=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="on_print_proc-instance_method">
  
    - (<tt>Object</tt>) <strong>on_print_proc</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute on_print_proc</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 112</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_print_proc'>on_print_proc</span>
  <span class='ivar'>@on_print_proc</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="orig_suspend=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="orig_suspend-instance_method">
  
    - (<tt>Object</tt>) <strong>orig_suspend</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The original suspend proc.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 120</span>

<span class='kw'>def</span> <span class='id identifier rubyid_orig_suspend'>orig_suspend</span>
  <span class='ivar'>@orig_suspend</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="_interact-instance_method">
  
    - (<tt>Object</tt>) <strong>_interact</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stub method that is meant to handler interaction</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 125</span>

<span class='kw'>def</span> <span class='id identifier rubyid__interact'>_interact</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_interact_complete-instance_method">
  
    - (<tt>Object</tt>) <strong>_interact_complete</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when interaction has completed and one of the sides has closed.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


145
146
147</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 145</span>

<span class='kw'>def</span> <span class='id identifier rubyid__interact_complete'>_interact_complete</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_interrupt-instance_method">
  
    - (<tt>Object</tt>) <strong>_interrupt</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when an interrupt is sent.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid__interrupt'>_interrupt</span>
  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_local_fd-instance_method">
  
    - (<tt>Object</tt>) <strong>_local_fd</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The local file descriptor handle.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid__local_fd'>_local_fd</span>
  <span class='id identifier rubyid_user_input'>user_input</span><span class='period'>.</span><span class='id identifier rubyid_fd'>fd</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_remote_fd-instance_method">
  
    - (<tt>Object</tt>) <strong>_remote_fd</strong>(stream)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>The remote file descriptor handle.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid__remote_fd'>_remote_fd</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_fd'>fd</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_stream_read_local_write_remote-instance_method">
  
    - (<tt>Object</tt>) <strong>_stream_read_local_write_remote</strong>(stream)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read from local and write to remote.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid__stream_read_local_write_remote'>_stream_read_local_write_remote</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_user_input'>user_input</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_on_command_proc'>on_command_proc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_on_command_proc'>on_command_proc</span>
  <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_put'>put</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_stream_read_remote_write_local-instance_method">
  
    - (<tt>Object</tt>) <strong>_stream_read_remote_write_local</strong>(stream)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Read from remote and write to local.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


152
153
154
155
156
157</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 152</span>

<span class='kw'>def</span> <span class='id identifier rubyid__stream_read_remote_write_local'>_stream_read_remote_write_local</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_get'>get</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_on_print_proc'>on_print_proc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_on_print_proc'>on_print_proc</span>
  <span class='id identifier rubyid_user_output'>user_output</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="_suspend-instance_method">
  
    - (<tt>Object</tt>) <strong>_suspend</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Called when a suspend is sent.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid__suspend'>_suspend</span>
  <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="detach-instance_method">
  
    - (<tt>Object</tt>) <strong>detach</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Stops the current interaction</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 93</span>

<span class='kw'>def</span> <span class='id identifier rubyid_detach'>detach</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='kw'>while</span><span class='lparen'>(</span><span class='kw'>not</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_completed'>completed</span><span class='rparen'>)</span>
      <span class='op'>::</span><span class='const'>IO</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='float'>0.25</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handle_suspend-instance_method">
  
    - (<tt>Object</tt>) <strong>handle_suspend</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Installs a signal handler to monitor suspend signal notifications.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_handle_suspend'>handle_suspend</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_orig_suspend'>orig_suspend</span> <span class='op'>==</span> <span class='kw'>nil</span><span class='rparen'>)</span>
    <span class='kw'>begin</span>
      <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_orig_suspend'>orig_suspend</span> <span class='op'>=</span> <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TSTP</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='lbrace'>{</span>
        <span class='id identifier rubyid__suspend'>_suspend</span>
      <span class='rbrace'>}</span>
    <span class='kw'>rescue</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interact-instance_method">
  
    - (<tt>Object</tt>) <strong>interact</strong>(user_input, user_output) 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Starts interacting with the session at the most raw level, simply
forwarding input from user_input to rstream and forwarding input from
rstream to user_output.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interact'>interact</span><span class='lparen'>(</span><span class='id identifier rubyid_user_input'>user_input</span><span class='comma'>,</span> <span class='id identifier rubyid_user_output'>user_output</span><span class='rparen'>)</span>

  <span class='comment'># Detach from any existing console
</span>  <span class='kw'>if</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_detach'>detach</span><span class='lparen'>(</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_init_ui'>init_ui</span><span class='lparen'>(</span><span class='id identifier rubyid_user_input'>user_input</span><span class='comma'>,</span> <span class='id identifier rubyid_user_output'>user_output</span><span class='rparen'>)</span>

  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_completed'>completed</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_eof'>eof</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='comment'># Start the readline stdin monitor
</span>  <span class='comment'># XXX disabled
</span>  <span class='comment'># user_input.readline_start() if user_input.supports_readline
</span>
  <span class='comment'># Handle suspend notifications
</span>  <span class='id identifier rubyid_handle_suspend'>handle_suspend</span>

  <span class='comment'># As long as we&#39;re interacting...
</span>  <span class='kw'>while</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span> <span class='op'>==</span> <span class='kw'>true</span><span class='rparen'>)</span>

    <span class='kw'>begin</span>
      <span class='id identifier rubyid__interact'>_interact</span>

    <span class='kw'>rescue</span> <span class='const'>Interrupt</span>
      <span class='comment'># If we get an interrupt exception, ask the user if they want to
</span>      <span class='comment'># abort the interaction.  If they do, then we return out of
</span>      <span class='comment'># the interact function and call it a day.
</span>      <span class='id identifier rubyid_eof'>eof</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid__interrupt'>_interrupt</span><span class='rparen'>)</span>

    <span class='kw'>rescue</span> <span class='const'>EOFError</span><span class='comma'>,</span> <span class='const'>Errno</span><span class='op'>::</span><span class='const'>ECONNRESET</span><span class='comma'>,</span> <span class='const'>IOError</span>
      <span class='comment'># If we reach EOF or the connection is reset...
</span>      <span class='id identifier rubyid_eof'>eof</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='kw'>end</span>

    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_eof'>eof</span>
  <span class='kw'>end</span>

  <span class='kw'>begin</span>

    <span class='comment'># Restore the suspend handler
</span>    <span class='id identifier rubyid_restore_suspend'>restore_suspend</span>

    <span class='comment'># If we&#39;ve hit eof, call the interact complete handler
</span>    <span class='id identifier rubyid__interact_complete'>_interact_complete</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_eof'>eof</span> <span class='op'>==</span> <span class='kw'>true</span><span class='rparen'>)</span>

    <span class='comment'># Shutdown the readline thread
</span>		<span class='comment'># XXX disabled
</span>    <span class='comment'># user_input.readline_stop() if user_input.supports_readline
</span>
    <span class='comment'># Detach from the input/output handles
</span>    <span class='id identifier rubyid_reset_ui'>reset_ui</span><span class='lparen'>(</span><span class='rparen'>)</span>

  <span class='kw'>ensure</span>
    <span class='comment'># Mark this as completed
</span>    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_completed'>completed</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>

  <span class='comment'># Return whether or not EOF was reached
</span>  <span class='kw'>return</span> <span class='id identifier rubyid_eof'>eof</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interact_ring-instance_method">
  
    - (<tt>Object</tt>) <strong>interact_ring</strong>(ring)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Interacts between a local stream and a remote ring buffer. This has to use
a secondary thread to prevent the select on the local stream from blocking</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 213</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interact_ring'>interact_ring</span><span class='lparen'>(</span><span class='id identifier rubyid_ring'>ring</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>

  <span class='id identifier rubyid_rdr'>rdr</span> <span class='op'>=</span> <span class='const'>Rex</span><span class='op'>::</span><span class='const'>ThreadFactory</span><span class='period'>.</span><span class='id identifier rubyid_spawn'>spawn</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>RingMonitor</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_seq'>seq</span> <span class='op'>=</span> <span class='kw'>nil</span>
    <span class='kw'>while</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span>

      <span class='comment'># Look for any pending data from the remote ring
</span>      <span class='id identifier rubyid_nseq'>nseq</span><span class='comma'>,</span><span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_ring'>ring</span><span class='period'>.</span><span class='id identifier rubyid_read_data'>read_data</span><span class='lparen'>(</span><span class='id identifier rubyid_seq'>seq</span><span class='rparen'>)</span>

      <span class='comment'># Update the sequence number if necessary
</span>      <span class='id identifier rubyid_seq'>seq</span> <span class='op'>=</span> <span class='id identifier rubyid_nseq'>nseq</span> <span class='op'>||</span> <span class='id identifier rubyid_seq'>seq</span>

      <span class='comment'># Write output to the local stream if successful
</span>      <span class='id identifier rubyid_user_output'>user_output</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span>

      <span class='comment'># Wait for new data to arrive on this session
</span>      <span class='id identifier rubyid_ring'>ring</span><span class='period'>.</span><span class='id identifier rubyid_wait'>wait</span><span class='lparen'>(</span><span class='id identifier rubyid_seq'>seq</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>while</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span>

    <span class='comment'># Look for any pending input from the local stream
</span>    <span class='id identifier rubyid_sd'>sd</span> <span class='op'>=</span> <span class='const'>Rex</span><span class='op'>::</span><span class='const'>ThreadSafe</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='id identifier rubyid__local_fd'>_local_fd</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='id identifier rubyid__local_fd'>_local_fd</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='float'>5.0</span><span class='rparen'>)</span>

    <span class='comment'># Write input to the ring&#39;s input mechanism
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_sd'>sd</span>
      <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='id identifier rubyid_user_input'>user_input</span><span class='period'>.</span><span class='id identifier rubyid_gets'>gets</span>
      <span class='id identifier rubyid_ring'>ring</span><span class='period'>.</span><span class='id identifier rubyid_put'>put</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_rdr'>rdr</span><span class='period'>.</span><span class='id identifier rubyid_kill'>kill</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="interact_stream-instance_method">
  
    - (<tt>Object</tt>) <strong>interact_stream</strong>(stream)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Interacts with two streaming connections, reading data from one and writing
it to the other.  Both are expected to implement Rex::IO::Stream.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_interact_stream'>interact_stream</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
  <span class='kw'>while</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_interacting'>interacting</span>

    <span class='comment'># Select input and rstream
</span>    <span class='id identifier rubyid_sd'>sd</span> <span class='op'>=</span> <span class='const'>Rex</span><span class='op'>::</span><span class='const'>ThreadSafe</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span><span class='lparen'>(</span><span class='lbracket'>[</span> <span class='id identifier rubyid__local_fd'>_local_fd</span><span class='comma'>,</span> <span class='id identifier rubyid__remote_fd'>_remote_fd</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span> <span class='rbracket'>]</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='float'>0.25</span><span class='rparen'>)</span>

    <span class='comment'># Cycle through the items that have data
</span>    <span class='comment'># From the stream?  Write to user_output.
</span>    <span class='id identifier rubyid_sd'>sd</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_s'>s</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='id identifier rubyid__remote_fd'>_remote_fd</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid__stream_read_remote_write_local'>_stream_read_remote_write_local</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
      <span class='comment'># From user_input?  Write to stream.
</span>      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_s'>s</span> <span class='op'>==</span> <span class='id identifier rubyid__local_fd'>_local_fd</span><span class='rparen'>)</span>
        <span class='id identifier rubyid__stream_read_local_write_remote'>_stream_read_local_write_remote</span><span class='lparen'>(</span><span class='id identifier rubyid_stream'>stream</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='rbrace'>}</span> <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_sd'>sd</span><span class='rparen'>)</span>

    <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_pass'>pass</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prompt-instance_method">
  
    - (<tt>Object</tt>) <strong>prompt</strong>(query)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Prompt the user for input if possible. XXX: This is not thread-safe on
Windows</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


286
287
288
289
290
291</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 286</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prompt'>prompt</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_user_output'>user_output</span> <span class='kw'>and</span> <span class='id identifier rubyid_user_input'>user_input</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_user_output'>user_output</span><span class='period'>.</span><span class='id identifier rubyid_print'>print</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_user_input'>user_input</span><span class='period'>.</span><span class='id identifier rubyid_sysread'>sysread</span><span class='lparen'>(</span><span class='int'>2</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="prompt_yesno-instance_method">
  
    - (<tt>Object</tt>) <strong>prompt_yesno</strong>(query)  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Check the return value of a yes/no prompt</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


296
297
298</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 296</span>

<span class='kw'>def</span> <span class='id identifier rubyid_prompt_yesno'>prompt_yesno</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
  <span class='lparen'>(</span><span class='id identifier rubyid_prompt'>prompt</span><span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> [y/N]  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>=~</span> <span class='tstring'><span class='regexp_beg'>/</span><span class='tstring_content'>^y</span><span class='regexp_end'>/i</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='kw'>true</span> <span class='op'>:</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="restore_suspend-instance_method">
  
    - (<tt>Object</tt>) <strong>restore_suspend</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Restores the previously installed signal handler for suspend notifications.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


270
271
272
273
274
275
276
277
278
279
280</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/ui/interactive.rb', line 270</span>

<span class='kw'>def</span> <span class='id identifier rubyid_restore_suspend'>restore_suspend</span>
  <span class='kw'>begin</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_orig_suspend'>orig_suspend</span><span class='rparen'>)</span>
      <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TSTP</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_orig_suspend'>orig_suspend</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='const'>Signal</span><span class='period'>.</span><span class='id identifier rubyid_trap'>trap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TSTP</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>DEFAULT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_orig_suspend'>orig_suspend</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='kw'>rescue</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Nov  7 14:37:37 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.4).
</div>

  </body>
</html>