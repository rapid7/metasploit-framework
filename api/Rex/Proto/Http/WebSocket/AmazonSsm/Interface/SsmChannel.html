<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannel
  
    &mdash; Documentation by YARD 0.9.37
  
</title>

  <link rel="stylesheet" href="../../../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannel";
  relpath = '../../../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../../../_index.html">Index (S)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../../Proto.html" title="Rex::Proto (module)">Proto</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../Http.html" title="Rex::Proto::Http (module)">Http</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../WebSocket.html" title="Rex::Proto::Http::WebSocket (module)">WebSocket</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../AmazonSsm.html" title="Rex::Proto::Http::WebSocket::AmazonSsm (module)">AmazonSsm</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Interface.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface (module)">Interface</a></span></span>
     &raquo; 
    <span class="title">SsmChannel</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannel
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../../Interface/Channel.html" title="Rex::Proto::Http::WebSocket::Interface::Channel (class)">Interface::Channel</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../../Interface/Channel.html" title="Rex::Proto::Http::WebSocket::Interface::Channel (class)">Interface::Channel</a></span></li>
          
            <li class="next">Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannel</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="SsmChannelMethods.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods (module)">SsmChannelMethods</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/rex/proto/http/web_socket/amazon_ssm.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ack_message-instance_method" title="#ack_message (instance method)">#<strong>ack_message</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute ack_message.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ack_seq_num-instance_method" title="#ack_seq_num (instance method)">#<strong>ack_seq_num</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute ack_seq_num.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#out_seq_num-instance_method" title="#out_seq_num (instance method)">#<strong>out_seq_num</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute out_seq_num.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#run_ssm_pub-instance_method" title="#run_ssm_pub (instance method)">#<strong>run_ssm_pub</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute run_ssm_pub.</p>
</div></span>
  
</li>

    
  </ul>



  
  
  <h3 class="inherited">Attributes included from <span class='object_link'><a href="SsmChannelMethods.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods (module)">SsmChannelMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SsmChannelMethods.html#cols-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#cols (method)">#cols</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#rows-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#rows (method)">#rows</a></span></p>

  
  
  <h3 class="inherited">Attributes inherited from <span class='object_link'><a href="../../Interface/Channel.html" title="Rex::Proto::Http::WebSocket::Interface::Channel (class)">Interface::Channel</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Interface/Channel.html#params-instance_method" title="Rex::Proto::Http::WebSocket::Interface::Channel#params (method)">#params</a></span></p>


  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(websocket)  &#x21d2; SsmChannel </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of SsmChannel.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_data_read-instance_method" title="#on_data_read (instance method)">#<strong>on_data_read</strong>(data, _data_type)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#on_data_write-instance_method" title="#on_data_write (instance method)">#<strong>on_data_write</strong>(data)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#publishing%3F-instance_method" title="#publishing? (instance method)">#<strong>publishing?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="SsmChannelMethods.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods (module)">SsmChannelMethods</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="SsmChannelMethods.html#_start_ssm_keepalive-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#_start_ssm_keepalive (method)">#_start_ssm_keepalive</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#acknowledge_output-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#acknowledge_output (method)">#acknowledge_output</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#close-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#close (method)">#close</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#handle_acknowledge-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#handle_acknowledge (method)">#handle_acknowledge</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#handle_output_data-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#handle_output_data (method)">#handle_output_data</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#pause_publication-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#pause_publication (method)">#pause_publication</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#set_term_size-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#set_term_size (method)">#set_term_size</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#start_publication-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#start_publication (method)">#start_publication</a></span>, <span class='object_link'><a href="SsmChannelMethods.html#update_term_size-instance_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannelMethods#update_term_size (method)">#update_term_size</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../../Interface/Channel.html" title="Rex::Proto::Http::WebSocket::Interface::Channel (class)">Interface::Channel</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../Interface/Channel.html#close-instance_method" title="Rex::Proto::Http::WebSocket::Interface::Channel#close (method)">#close</a></span>, <span class='object_link'><a href="../../Interface/Channel.html#close_write-instance_method" title="Rex::Proto::Http::WebSocket::Interface::Channel#close_write (method)">#close_write</a></span>, <span class='object_link'><a href="../../Interface/Channel.html#closed%3F-instance_method" title="Rex::Proto::Http::WebSocket::Interface::Channel#closed? (method)">#closed?</a></span>, <span class='object_link'><a href="../../Interface/Channel.html#write-instance_method" title="Rex::Proto::Http::WebSocket::Interface::Channel#write (method)">#write</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../../../../../Post/Channel/StreamAbstraction.html" title="Rex::Post::Channel::StreamAbstraction (module)">Rex::Post::Channel::StreamAbstraction</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../../../../../Post/Channel/StreamAbstraction.html#read-instance_method" title="Rex::Post::Channel::StreamAbstraction#read (method)">#read</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(websocket)  &#x21d2; <tt><span class='object_link'><a href="" title="Rex::Proto::Http::WebSocket::AmazonSsm::Interface::SsmChannel (class)">SsmChannel</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of SsmChannel.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156
157
158</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 150</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_websocket'>websocket</span><span class='rparen'>)</span>
  <span class='ivar'>@ack_seq_num</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@out_seq_num</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@run_ssm_pub</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='ivar'>@ack_message</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@publication</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='kw'>super</span><span class='lparen'>(</span><span class='id identifier rubyid_websocket'>websocket</span><span class='comma'>,</span> <span class='label'>write_type:</span> <span class='symbol'>:binary</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="ack_message-instance_method">
  
    #<strong>ack_message</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute ack_message.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ack_message'>ack_message</span>
  <span class='ivar'>@ack_message</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="ack_seq_num-instance_method">
  
    #<strong>ack_seq_num</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute ack_seq_num.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ack_seq_num'>ack_seq_num</span>
  <span class='ivar'>@ack_seq_num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="out_seq_num-instance_method">
  
    #<strong>out_seq_num</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute out_seq_num.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_out_seq_num'>out_seq_num</span>
  <span class='ivar'>@out_seq_num</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="run_ssm_pub-instance_method">
  
    #<strong>run_ssm_pub</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute run_ssm_pub.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 148</span>

<span class='kw'>def</span> <span class='id identifier rubyid_run_ssm_pub'>run_ssm_pub</span>
  <span class='ivar'>@run_ssm_pub</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="on_data_read-instance_method">
  
    #<strong>on_data_read</strong>(data, _data_type)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 160</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_data_read'>on_data_read</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='id identifier rubyid__data_type'>_data_type</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_data'>data</span> <span class='kw'>if</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

  <span class='id identifier rubyid_ssm_frame'>ssm_frame</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../SsmFrame.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::SsmFrame (class)">SsmFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_read'>read</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_ssm_frame'>ssm_frame</span><span class='period'>.</span><span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_message_type'>message_type</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>output_stream_data</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@publication</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='comment'># Linux sends stream data before sending start_publication message
</span>    <span class='kw'>return</span> <span class='id identifier rubyid_handle_output_data'>handle_output_data</span><span class='lparen'>(</span><span class='id identifier rubyid_ssm_frame'>ssm_frame</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>acknowledge</span><span class='tstring_end'>&#39;</span></span>
    <span class='comment'># update ACK seqno
</span>    <span class='id identifier rubyid_handle_acknowledge'>handle_acknowledge</span><span class='lparen'>(</span><span class='id identifier rubyid_ssm_frame'>ssm_frame</span><span class='rparen'>)</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>start_publication</span><span class='tstring_end'>&#39;</span></span>
    <span class='ivar'>@out_seq_num</span> <span class='op'>=</span> <span class='ivar'>@ack_seq_num</span> <span class='kw'>if</span> <span class='ivar'>@out_seq_num</span> <span class='op'>&gt;</span> <span class='int'>0</span>
    <span class='ivar'>@publication</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='comment'># handle session resumption - foregrounding or resumption of input
</span>  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pause_publication</span><span class='tstring_end'>&#39;</span></span>
    <span class='comment'># @websocket.put_wsbinary(ssm_frame.to_ack.to_binary_s)
</span>    <span class='ivar'>@publication</span> <span class='op'>=</span> <span class='kw'>false</span>
    <span class='comment'># handle session suspension - backgrounding or general idle
</span>  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>input_stream_data</span><span class='tstring_end'>&#39;</span></span>
    <span class='comment'># this is supposed to be a one way street
</span>    <span class='id identifier rubyid_emsg'>emsg</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SsmChannel received input_stream_data from SSM (!!)</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_elog'><span class='object_link'><a href="../../../../../../top-level-namespace.html#elog-instance_method" title="#elog (method)">elog</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_emsg'>emsg</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_emsg'>emsg</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>channel_closed</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_elog'><span class='object_link'><a href="../../../../../../top-level-namespace.html#elog-instance_method" title="#elog (method)">elog</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SsmChannel got closed message </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ssm_frame'>ssm_frame</span><span class='period'>.</span><span class='id identifier rubyid_uuid'>uuid</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_close'>close</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Proto.html" title="Rex::Proto (module)">Proto</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Http.html" title="Rex::Proto::Http (module)">Http</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../WebSocket.html" title="Rex::Proto::Http::WebSocket (module)">WebSocket</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../ConnectionError.html" title="Rex::Proto::Http::WebSocket::ConnectionError (class)">ConnectionError</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../../ConnectionError.html#initialize-instance_method" title="Rex::Proto::Http::WebSocket::ConnectionError#initialize (method)">new</a></span></span><span class='lparen'>(</span>
      <span class='label'>msg:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Unknown AWS SSM message type: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ssm_frame'>ssm_frame</span><span class='period'>.</span><span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_message_type'>message_type</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="on_data_write-instance_method">
  
    #<strong>on_data_write</strong>(data)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


196
197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 196</span>

<span class='kw'>def</span> <span class='id identifier rubyid_on_data_write'>on_data_write</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_start_publication'>start_publication</span> <span class='kw'>if</span> <span class='kw'>not</span> <span class='ivar'>@publication</span>
  <span class='id identifier rubyid_frame'>frame</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../SsmFrame.html" title="Rex::Proto::Http::WebSocket::AmazonSsm::SsmFrame (class)">SsmFrame</a></span></span><span class='period'>.</span><span class='id identifier rubyid_create'><span class='object_link'><a href="../SsmFrame.html#create-class_method" title="Rex::Proto::Http::WebSocket::AmazonSsm::SsmFrame.create (method)">create</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_frame'>frame</span><span class='period'>.</span><span class='id identifier rubyid_header'>header</span><span class='period'>.</span><span class='id identifier rubyid_sequence_number'>sequence_number</span> <span class='op'>=</span> <span class='ivar'>@out_seq_num</span>
  <span class='ivar'>@out_seq_num</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_frame'>frame</span><span class='period'>.</span><span class='id identifier rubyid_to_binary_s'>to_binary_s</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="publishing?-instance_method">
  
    #<strong>publishing?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/proto/http/web_socket/amazon_ssm.rb', line 204</span>

<span class='kw'>def</span> <span class='id identifier rubyid_publishing?'>publishing?</span>
  <span class='ivar'>@publication</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Oct 31 12:10:43 2025 by
  <a href="https://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.37 (ruby-3.1.5).
</div>

    </div>
  </body>
</html>