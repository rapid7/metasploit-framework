<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>
  Class: Rex::ReadWriteLock
  
    &mdash; Documentation by YARD 0.8.7.4
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../';
  framesUrl = "../frames.html#!Rex/ReadWriteLock.html";
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../Rex.html" title="Rex (module)">Rex</a></span></span>
     &raquo; 
    <span class="title">ReadWriteLock</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Rex::ReadWriteLock
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Rex::ReadWriteLock</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/rex/sync/read_write_lock.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This class implements a read/write lock synchronization primitive.  It is
meant to allow for more efficient access to resources that are more often
read from than written to and many times can have concurrent reader
threads.  By allowing the reader threads to lock the resource concurrently
rather than serially, a large performance boost can be seen.  Acquiring a
write lock results in exclusive access to the resource and thereby prevents
any read operations during the time that a write lock is acquired. Only one
write lock may be acquired at a time.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#exclusive_mutex-instance_method" title="#exclusive_mutex (instance method)">- (Object) <strong>exclusive_mutex</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#read_sync_mutex-instance_method" title="#read_sync_mutex (instance method)">- (Object) <strong>read_sync_mutex</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

    
      <li class="protected ">
  <span class="summary_signature">
    
      <a href="#write_sync_mutex-instance_method" title="#write_sync_mutex (instance method)">- (Object) <strong>write_sync_mutex</strong> </a>
    

    
  </span>
  
  
  
    
    
  
  <span class="note title protected">protected</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>:nodoc:.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (ReadWriteLock) <strong>initialize</strong> </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Initializes a reader/writer lock instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lock_read-instance_method" title="#lock_read (instance method)">- (Object) <strong>lock_read</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Acquires the read lock for the calling thread.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lock_write-instance_method" title="#lock_write (instance method)">- (Object) <strong>lock_write</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Acquire the exclusive write lock.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#synchronize_read-instance_method" title="#synchronize_read (instance method)">- (Object) <strong>synchronize_read</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Synchronize a block for read access.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#synchronize_write-instance_method" title="#synchronize_write (instance method)">- (Object) <strong>synchronize_write</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Synchronize a block for write access.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlock_read-instance_method" title="#unlock_read (instance method)">- (Object) <strong>unlock_read</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Releases the read lock for the calling thread.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unlock_write-instance_method" title="#unlock_write (instance method)">- (Object) <strong>unlock_write</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Release the exclusive write lock.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class='object_link'><a href="" title="Rex::ReadWriteLock (class)">ReadWriteLock</a></span></tt>) <strong>initialize</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Initializes a reader/writer lock instance.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29
30</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@read_sync_mutex</span>  <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@write_sync_mutex</span> <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@exclusive_mutex</span>  <span class='op'>=</span> <span class='const'>Mutex</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@readers</span>          <span class='op'>=</span> <span class='int'>0</span>
  <span class='ivar'>@writer</span>           <span class='op'>=</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="exclusive_mutex=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="exclusive_mutex-instance_method">
  
    - (<tt>Object</tt>) <strong>exclusive_mutex</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


172
173
174</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 172</span>

<span class='kw'>def</span> <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span>
  <span class='ivar'>@exclusive_mutex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="read_sync_mutex=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="read_sync_mutex-instance_method">
  
    - (<tt>Object</tt>) <strong>read_sync_mutex</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span>
  <span class='ivar'>@read_sync_mutex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="write_sync_mutex=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="write_sync_mutex-instance_method">
  
    - (<tt>Object</tt>) <strong>write_sync_mutex</strong>  <span class="extras">(protected)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>:nodoc:</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 171</span>

<span class='kw'>def</span> <span class='id identifier rubyid_write_sync_mutex'>write_sync_mutex</span>
  <span class='ivar'>@write_sync_mutex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="lock_read-instance_method">
  
    - (<tt>Object</tt>) <strong>lock_read</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Acquires the read lock for the calling thread.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lock_read'>lock_read</span>
  <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>

  <span class='kw'>begin</span>
    <span class='comment'># If there are a non-zero number of readers and a
</span>    <span class='comment'># writer is waiting to acquire the exclusive lock,
</span>    <span class='comment'># free up the sync mutex temporarily and lock/unlock
</span>    <span class='comment'># the exclusive lock.  This is to give the writer
</span>    <span class='comment'># thread a chance to acquire the lock and prevents
</span>    <span class='comment'># it from being constantly starved.
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='ivar'>@readers</span> <span class='op'>&gt;</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='kw'>and</span>
        <span class='lparen'>(</span><span class='ivar'>@writer</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
      <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>
      <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
      <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>
    <span class='kw'>end</span>

    <span class='comment'># Increment the active reader count
</span>    <span class='ivar'>@readers</span> <span class='op'>+=</span> <span class='int'>1</span>

    <span class='comment'># If we now have just one reader, acquire the exclusive
</span>    <span class='comment'># lock.  Track the thread owner so that we release the
</span>    <span class='comment'># lock from within the same thread context later on.
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@readers</span> <span class='op'>==</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>

      <span class='ivar'>@owner</span> <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lock_write-instance_method">
  
    - (<tt>Object</tt>) <strong>lock_write</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Acquire the exclusive write lock.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116
117
118
119
120
121
122
123
124
125
126</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lock_write'>lock_write</span>
  <span class='id identifier rubyid_write_sync_mutex'>write_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>

  <span class='kw'>begin</span>
    <span class='ivar'>@writer</span> <span class='op'>=</span> <span class='kw'>true</span>

    <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>

    <span class='ivar'>@owner</span>  <span class='op'>=</span> <span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_write_sync_mutex'>write_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="synchronize_read-instance_method">
  
    - (<tt>Object</tt>) <strong>synchronize_read</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Synchronize a block for read access.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 147</span>

<span class='kw'>def</span> <span class='id identifier rubyid_synchronize_read'>synchronize_read</span>
  <span class='id identifier rubyid_lock_read'>lock_read</span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_unlock_read'>unlock_read</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="synchronize_write-instance_method">
  
    - (<tt>Object</tt>) <strong>synchronize_write</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Synchronize a block for write access.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


159
160
161
162
163
164
165
166</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 159</span>

<span class='kw'>def</span> <span class='id identifier rubyid_synchronize_write'>synchronize_write</span>
  <span class='id identifier rubyid_lock_write'>lock_write</span>
  <span class='kw'>begin</span>
    <span class='kw'>yield</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_unlock_write'>unlock_write</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlock_read-instance_method">
  
    - (<tt>Object</tt>) <strong>unlock_read</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Releases the read lock for the calling thread.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 72</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlock_read'>unlock_read</span>
  <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>

  <span class='kw'>begin</span>
    <span class='id identifier rubyid_unlocked'>unlocked</span> <span class='op'>=</span> <span class='kw'>false</span>

    <span class='comment'># Keep looping until we&#39;ve lost this thread&#39;s reader
</span>    <span class='comment'># lock
</span>    <span class='kw'>while</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_unlocked'>unlocked</span><span class='rparen'>)</span>
      <span class='comment'># If there are no more readers left after this one
</span>      <span class='kw'>if</span> <span class='lparen'>(</span><span class='ivar'>@readers</span> <span class='op'>-</span> <span class='int'>1</span> <span class='op'>==</span> <span class='int'>0</span><span class='rparen'>)</span>
        <span class='comment'># If the calling thread is the owner of the exclusive
</span>        <span class='comment'># reader lock, then let&#39;s release it
</span>        <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span> <span class='op'>==</span> <span class='ivar'>@owner</span><span class='rparen'>)</span>
          <span class='ivar'>@owner</span> <span class='op'>=</span> <span class='kw'>nil</span>

          <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
        <span class='kw'>end</span>
      <span class='comment'># If there is more than one reader left and this thread is
</span>      <span class='comment'># the owner of the exclusive lock, then keep looping so that
</span>      <span class='comment'># we can eventually unlock the exclusive mutex in this thread&#39;s
</span>      <span class='comment'># context
</span>      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span> <span class='op'>==</span> <span class='ivar'>@owner</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>

        <span class='kw'>next</span>
      <span class='kw'>end</span>

      <span class='comment'># Unlocked!
</span>      <span class='id identifier rubyid_unlocked'>unlocked</span> <span class='op'>=</span> <span class='kw'>true</span>

      <span class='comment'># Decrement the active reader count
</span>      <span class='ivar'>@readers</span> <span class='op'>-=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>ensure</span>
    <span class='id identifier rubyid_read_sync_mutex'>read_sync_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unlock_write-instance_method">
  
    - (<tt>Object</tt>) <strong>unlock_write</strong> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Release the exclusive write lock.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/rex/sync/read_write_lock.rb', line 131</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unlock_write'>unlock_write</span>
  <span class='comment'># If the caller is not the owner of the write lock, then someone is
</span>  <span class='comment'># doing something broken, let&#39;s let them know.
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>Thread</span><span class='period'>.</span><span class='id identifier rubyid_current'>current</span> <span class='op'>!=</span> <span class='ivar'>@owner</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'>RuntimeError</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Non-owner calling thread attempted to release write lock</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_caller'>caller</span>
  <span class='kw'>end</span>

  <span class='comment'># Otherwise, release the exclusive write lock
</span>  <span class='ivar'>@writer</span> <span class='op'>=</span> <span class='kw'>false</span>

  <span class='id identifier rubyid_exclusive_mutex'>exclusive_mutex</span><span class='period'>.</span><span class='id identifier rubyid_unlock'>unlock</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Fri Nov  7 14:51:26 2014 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.4 (ruby-2.1.4).
</div>

  </body>
</html>