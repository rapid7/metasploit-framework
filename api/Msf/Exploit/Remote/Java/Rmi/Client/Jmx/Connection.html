<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection
  
    &mdash; Documentation by YARD 0.9.26
  
</title>

  <link rel="stylesheet" href="../../../../../../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../../../../../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection";
  relpath = '../../../../../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../../../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../../../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../../../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../../../../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span>
     &raquo; 
    <span class="title">Connection</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../../../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Connection/Builder.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder (module)">Builder</a></span></dd>
  </dl>
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Msf::Exploit::Remote::Java::Rmi::Client::Jmx</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/msf/core/exploit/remote/java/rmi/client/jmx/connection.rb<span class="defines">,<br />
  lib/msf/core/exploit/remote/java/rmi/client/jmx/connection/builder.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>This mixin provides methods to simulate calls to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub interface</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
      <strong class="modules">Modules:</strong> <span class='object_link'><a href="Connection/Builder.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder (module)">Builder</a></span>
    
  
    
  
</p>







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_invoke_arguments_obj_bytes-instance_method" title="#build_invoke_arguments_obj_bytes (instance method)">#<strong>build_invoke_arguments_obj_bytes</strong>(args = {})  &#x21d2; Rex::Java::Serialization::Model::Stream </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Builds a Rex::Java::Serialization::Model::Stream with the arguments to simulate a call to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke() method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_jmx_invoke-instance_method" title="#build_jmx_invoke (instance method)">#<strong>build_jmx_invoke</strong>(opts = {})  &#x21d2; Rex::Proto::Rmi::Model::Call </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Builds an RMI call to javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke() used to invoke an MBean method.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#build_jmx_invoke_args-instance_method" title="#build_jmx_invoke_args (instance method)">#<strong>build_jmx_invoke_args</strong>(opts = {})  &#x21d2; Array </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Builds an an array of arguments o build a call to javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke().</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_jmx_create_mbean-instance_method" title="#send_jmx_create_mbean (instance method)">#<strong>send_jmx_create_mbean</strong>(opts = {})  &#x21d2; TrueClass, NilClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends a call to the JMXRMI endpoint to create an MBean instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_jmx_get_object_instance-instance_method" title="#send_jmx_get_object_instance (instance method)">#<strong>send_jmx_get_object_instance</strong>(opts = {})  &#x21d2; TrueClass, NilClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends a call to the JMXRMI endpoint to retrieve an MBean instance.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#send_jmx_invoke-instance_method" title="#send_jmx_invoke (instance method)">#<strong>send_jmx_invoke</strong>(opts = {})  &#x21d2; TrueClass, NilClass </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends a call to the JMXRMI endpoint to invoke an MBean method.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Connection/Builder.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder (module)">Builder</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Connection/Builder.html#build_jmx_create_mbean-instance_method" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder#build_jmx_create_mbean (method)">#build_jmx_create_mbean</a></span>, <span class='object_link'><a href="Connection/Builder.html#build_jmx_create_mbean_args-instance_method" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder#build_jmx_create_mbean_args (method)">#build_jmx_create_mbean_args</a></span>, <span class='object_link'><a href="Connection/Builder.html#build_jmx_get_object_instance-instance_method" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder#build_jmx_get_object_instance (method)">#build_jmx_get_object_instance</a></span>, <span class='object_link'><a href="Connection/Builder.html#build_jmx_get_object_instance_args-instance_method" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection::Builder#build_jmx_get_object_instance_args (method)">#build_jmx_get_object_instance_args</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build_invoke_arguments_obj_bytes-instance_method">
  
    #<strong>build_invoke_arguments_obj_bytes</strong>(args = {})  &#x21d2; <tt>Rex::Java::Serialization::Model::Stream</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Builds a Rex::Java::Serialization::Model::Stream with the arguments to simulate a call to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke() method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>args</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &mdash;
        <div class='inline'>
<p>the arguments of the method to invoke</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Rex::Java::Serialization::Model::Stream</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection/builder.rb', line 215</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_invoke_arguments_obj_bytes'>build_invoke_arguments_obj_bytes</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Builder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_new_array'>new_array</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_new_array'>new_array</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[Ljava.lang.Object;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>serial:</span> <span class='const'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html#OBJECT_ARRAY_UID-constant" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::OBJECT_ARRAY_UID (constant)">OBJECT_ARRAY_UID</a></span></span><span class='comma'>,</span> <span class='comment'># serialVersionUID
</span>    <span class='label'>annotations:</span> <span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>EndBlockData</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>values_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java.lang.Object;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>values:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_arg'>arg</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>Utf</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_stream'>stream</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>Stream</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_stream'>stream</span><span class='period'>.</span><span class='id identifier rubyid_contents'>contents</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_new_array'>new_array</span>

  <span class='id identifier rubyid_stream'>stream</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_jmx_invoke-instance_method">
  
    #<strong>build_jmx_invoke</strong>(opts = {})  &#x21d2; <tt><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Model/Call.html" title="Rex::Proto::Rmi::Model::Call (class)">Rex::Proto::Rmi::Model::Call</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Builds an RMI call to javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke() used to invoke an MBean method</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:name</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the MBean name</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Model/Call.html" title="Rex::Proto::Rmi::Model::Call (class)">Rex::Proto::Rmi::Model::Call</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Builder.build_call</li>
    
      <li><span class='object_link'><a href="#build_jmx_invoke_args-instance_method" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::Connection#build_jmx_invoke_args (method)">#build_jmx_invoke_args</a></span></li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection/builder.rb', line 123</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_jmx_invoke'>build_jmx_invoke</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_object_number'>object_number</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:object_number</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span>
  <span class='id identifier rubyid_uid_number'>uid_number</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:uid_number</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span>
  <span class='id identifier rubyid_uid_time'>uid_time</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:uid_time</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span>
  <span class='id identifier rubyid_uid_count'>uid_count</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:uid_count</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span>

  <span class='id identifier rubyid_method_hash'>method_hash</span> <span class='op'>=</span> <span class='id identifier rubyid_calculate_method_hash'>calculate_method_hash</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>invoke(Ljavax/management/ObjectName;Ljava/lang/String;Ljava/rmi/MarshalledObject;[Ljava/lang/String;Ljavax/security/auth/Subject;)Ljava/lang/Object;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='id identifier rubyid_build_jmx_invoke_args'>build_jmx_invoke_args</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_call'>call</span> <span class='op'>=</span> <span class='id identifier rubyid_build_call'>build_call</span><span class='lparen'>(</span>
    <span class='label'>object_number:</span> <span class='id identifier rubyid_object_number'>object_number</span><span class='comma'>,</span>
    <span class='label'>uid_number:</span> <span class='id identifier rubyid_uid_number'>uid_number</span><span class='comma'>,</span>
    <span class='label'>uid_time:</span> <span class='id identifier rubyid_uid_time'>uid_time</span><span class='comma'>,</span>
    <span class='label'>uid_count:</span> <span class='id identifier rubyid_uid_count'>uid_count</span><span class='comma'>,</span>
    <span class='label'>operation:</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span>
    <span class='label'>hash:</span> <span class='id identifier rubyid_method_hash'>method_hash</span><span class='comma'>,</span>
    <span class='label'>arguments:</span> <span class='id identifier rubyid_arguments'>arguments</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_call'>call</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="build_jmx_invoke_args-instance_method">
  
    #<strong>build_jmx_invoke_args</strong>(opts = {})  &#x21d2; <tt>Array</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Builds an an array of arguments o build a call to javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke()</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:object</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the MBean name</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:method</span>
          <span class="type">(<tt>String</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the method name</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:args</span>
          <span class="type">(<tt>Hash</tt>)</span>
          <span class="default">
            
          </span>
          
            &mdash; <div class='inline'>
<p>the method arguments</p>
</div>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection/builder.rb', line 154</span>

<span class='kw'>def</span> <span class='id identifier rubyid_build_jmx_invoke_args'>build_jmx_invoke_args</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_object_name'>object_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:object</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_method_name'>method_name</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:method</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='id identifier rubyid_args'>args</span> <span class='op'>=</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:args</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>

  <span class='id identifier rubyid_builder'>builder</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Builder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>

  <span class='id identifier rubyid_new_object'>new_object</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_new_object'>new_object</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>javax.management.ObjectName</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>serial:</span> <span class='const'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html#OBJECT_NAME_UID-constant" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::OBJECT_NAME_UID (constant)">OBJECT_NAME_UID</a></span></span><span class='comma'>,</span> <span class='comment'># serialVersionUID
</span>    <span class='label'>flags:</span> <span class='int'>3</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_data_binary'>data_binary</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_new_array'>new_array</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>serial:</span> <span class='const'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html#BYTE_ARRAY_UID-constant" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::BYTE_ARRAY_UID (constant)">BYTE_ARRAY_UID</a></span></span><span class='comma'>,</span> <span class='comment'># serialVersionUID
</span>    <span class='label'>values_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>byte</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>values:</span> <span class='id identifier rubyid_build_invoke_arguments_obj_bytes'>build_invoke_arguments_obj_bytes</span><span class='lparen'>(</span><span class='id identifier rubyid_args'>args</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_encode'>encode</span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>C*</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_marshall_object'>marshall_object</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_new_object'>new_object</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java.rmi.MarshalledObject</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>serial:</span> <span class='const'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html#MARSHALLED_OBJECT_UID-constant" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::MARSHALLED_OBJECT_UID (constant)">MARSHALLED_OBJECT_UID</a></span></span><span class='comma'>,</span> <span class='comment'># serialVersionUID
</span>    <span class='label'>fields:</span> <span class='lbracket'>[</span>
      <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>int</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>hash</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>array</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>locBytes</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[B</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>array</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>objBytes</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[B</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
    <span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>data:</span> <span class='lbracket'>[</span>
      <span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>int</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1919492550</span><span class='rbracket'>]</span><span class='comma'>,</span>
      <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>NullReference</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
      <span class='id identifier rubyid_data_binary'>data_binary</span>
    <span class='rbracket'>]</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_new_array'>new_array</span> <span class='op'>=</span> <span class='id identifier rubyid_builder'>builder</span><span class='period'>.</span><span class='id identifier rubyid_new_array'>new_array</span><span class='lparen'>(</span>
    <span class='label'>name:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>[Ljava.lang.String;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>serial:</span> <span class='const'><span class='object_link'><a href="../../../../../../../Msf.html" title="Msf (module)">Msf</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../Exploit.html" title="Msf::Exploit (class)">Exploit</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../Remote.html" title="Msf::Exploit::Remote (class)">Remote</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../Java.html" title="Msf::Exploit::Remote::Java (module)">Java</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../Rmi.html" title="Msf::Exploit::Remote::Java::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Client.html" title="Msf::Exploit::Remote::Java::Rmi::Client (module)">Client</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx (module)">Jmx</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Jmx.html#STRING_ARRAY_UID-constant" title="Msf::Exploit::Remote::Java::Rmi::Client::Jmx::STRING_ARRAY_UID (constant)">STRING_ARRAY_UID</a></span></span><span class='comma'>,</span> <span class='comment'># serialVersionUID
</span>    <span class='label'>values_type:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java.lang.String;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>values:</span> <span class='id identifier rubyid_args'>args</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_k'>k</span><span class='op'>|</span> <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>Utf</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_k'>k</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_arguments'>arguments</span> <span class='op'>=</span> <span class='lbracket'>[</span>
    <span class='id identifier rubyid_new_object'>new_object</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>Utf</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_object_name'>object_name</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>EndBlockData</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>Utf</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_method_name'>method_name</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_marshall_object'>marshall_object</span><span class='comma'>,</span>
    <span class='id identifier rubyid_new_array'>new_array</span><span class='comma'>,</span>
    <span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'>Java</span><span class='op'>::</span><span class='const'>Serialization</span><span class='op'>::</span><span class='const'>Model</span><span class='op'>::</span><span class='const'>NullReference</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='rbracket'>]</span>

  <span class='id identifier rubyid_arguments'>arguments</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_jmx_create_mbean-instance_method">
  
    #<strong>send_jmx_create_mbean</strong>(opts = {})  &#x21d2; <tt>TrueClass</tt>, <tt>NilClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends a call to the JMXRMI endpoint to create an MBean instance. Simulates a call to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub#createMBean() method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:sock</span>
          <span class="type">(<tt>Rex::Socket::Tcp</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>, <tt>NilClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if success, nil otherwise</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Rex::Proto::Rmi::Exception</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the endpoint raises a remote exception</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Registry::Builder.build_jmx_create_mbean</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection.rb', line 61</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_jmx_create_mbean'>send_jmx_create_mbean</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send_call'>send_call</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span><span class='comma'>,</span>
    <span class='label'>call:</span> <span class='id identifier rubyid_build_jmx_create_mbean'>build_jmx_create_mbean</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_recv_return'>recv_return</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span>
  <span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_is_exception?'>is_exception?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto.html" title="Rex::Proto (module)">Proto</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi.html" title="Rex::Proto::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Exception</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>javax.management.ObjectInstance</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_jmx_get_object_instance-instance_method">
  
    #<strong>send_jmx_get_object_instance</strong>(opts = {})  &#x21d2; <tt>TrueClass</tt>, <tt>NilClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends a call to the JMXRMI endpoint to retrieve an MBean instance. Simulates a call to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub#getObjectInstance() method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:sock</span>
          <span class="type">(<tt>Rex::Socket::Tcp</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>, <tt>NilClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if success, nil otherwise</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Rex::Proto::Rmi::Exception</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the endpoint raises a remote exception</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Registry::Builder.build_jmx_get_object_instance</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection.rb', line 27</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_jmx_get_object_instance'>send_jmx_get_object_instance</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send_call'>send_call</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span><span class='comma'>,</span>
    <span class='label'>call:</span> <span class='id identifier rubyid_build_jmx_get_object_instance'>build_jmx_get_object_instance</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_recv_return'>recv_return</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span>
  <span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_is_exception?'>is_exception?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto.html" title="Rex::Proto (module)">Proto</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi.html" title="Rex::Proto::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Exception</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>javax.management.ObjectInstance</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="send_jmx_invoke-instance_method">
  
    #<strong>send_jmx_invoke</strong>(opts = {})  &#x21d2; <tt>TrueClass</tt>, <tt>NilClass</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends a call to the JMXRMI endpoint to invoke an MBean method. Simulates a call to the Java javax/management/remote/rmi/RMIConnectionImpl_Stub#invoke() method.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>opts</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
    </li>
  
</ul>

  
    
    
    <p class="tag_title">Options Hash (<tt>opts</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:sock</span>
          <span class="type">(<tt>Rex::Socket::Tcp</tt>)</span>
          <span class="default">
            
          </span>
          
        </li>
      
    </ul>
  

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>TrueClass</tt>, <tt>NilClass</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>true if success, nil otherwise</p>
</div>
      
    </li>
  
</ul>
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Rex::Proto::Rmi::Exception</a></span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>if the endpoint raises a remote exception</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>Registry::Builder.build_jmx_invoke</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/msf/core/exploit/remote/java/rmi/client/jmx/connection.rb', line 95</span>

<span class='kw'>def</span> <span class='id identifier rubyid_send_jmx_invoke'>send_jmx_invoke</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send_call'>send_call</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span><span class='comma'>,</span>
    <span class='label'>call:</span> <span class='id identifier rubyid_build_jmx_invoke'>build_jmx_invoke</span><span class='lparen'>(</span><span class='id identifier rubyid_opts'>opts</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>

  <span class='id identifier rubyid_return_value'>return_value</span> <span class='op'>=</span> <span class='id identifier rubyid_recv_return'>recv_return</span><span class='lparen'>(</span>
    <span class='label'>sock:</span> <span class='id identifier rubyid_opts'>opts</span><span class='lbracket'>[</span><span class='symbol'>:sock</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='id identifier rubyid_sock'>sock</span>
  <span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_is_exception?'>is_exception?</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex.html" title="Rex (module)">Rex</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto.html" title="Rex::Proto (module)">Proto</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi.html" title="Rex::Proto::Rmi (module)">Rmi</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../../../../../../Rex/Proto/Rmi/Exception.html" title="Rex::Proto::Rmi::Exception (class)">Exception</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_return_value'>return_value</span><span class='period'>.</span><span class='id identifier rubyid_get_class_name'>get_class_name</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>java.util.HashSet</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Wed Mar 31 00:32:06 2021 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.26 (ruby-2.7.2).
</div>

    </div>
  </body>
</html>